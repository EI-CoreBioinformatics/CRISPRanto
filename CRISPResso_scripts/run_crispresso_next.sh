#!/bin/bash

function runCRISPRessoSingle {
 r1=$(basename $(dirname $1))/$(basename $1);
 amplicon=$2
 guide=$3
 docker run -v ${PWD}/oleg/trimmed:/oleg -w /oleg -i lucapinello/crispresso CRISPResso -r1 $r1 -a $amplicon -g $guide $4 $5
}

amplicon=GATAAGGAATTTTGCATAGTATTTAGGTTCACAAGTGGGACAATCTTCTTACACTGAAATATCTTTATGTCAGGCTTAATTTACTGCTATCTTGTTCAATAAAATGCCCCAAATTGGACTTGTTTCTGCCGTTAATTTGAGAGTCCAAGGTAATTCAGCTTATCTTTGGAGCTCGAGGTCTTCGTTGGGAACTGAAAGTCAAGATGTTTGCTTGCAAAGGAATTTGTTATGTTTTGGTAGTAGCGACTCCATGGGGCATAAGTTAAGGATTCGTACTCCAAGTGCCACGACCCGAAGATTGACAAAGGACTTTAATCCT
guide=GCCGTTAATTTGAGAGTCCA

for r in oleg/trimmed/p12/*.fq.gz; do
  echo x
  # runCRISPRessoSingle $r $amplicon $guide
done

amplicon=TTCTCTCTGTCACACCGATGTTTACTTCTGGGAAGCTAAGGTAGAGTAATCAATTTATTACACTCCAAATTCATAATCAAGTTCTAATTTTTTTAGAATTCTAATTTTTTATCTAAAAAAATTCAACCTTTTTGATTCCACAGGGACAAACACCGTTGTTTCCACGTATCTTCGGCCATGAAGCTGGAGGGTAATAGAAACACTAATCTTCTTTGCTTCGTTTTGGATATTTTTAAGGTTTTAGAGATTCAAGGTCGTTTTTTTTGTTGTTGTGTAGGATTGTTGAGAGTGTTGGAGAAGGAGTGACTGATCTTCAGCCA
guide=ACGTATCTTCGGCCATGAAGCTG

for r in oleg/trimmed/p3_40/*.fq.gz; do
  echo x
  # runCRISPRessoSingle $r $amplicon $guide
done

amplicon=TTCTCTCTGTCACACCGATGTTTACTTCTGGGAAGCTAAGGTAGAGTAATCAATTTATTACACTCCAAATTCATAATCAAGTTCTAATTTTTTTAGAATTCTAATTTTTTATCTAAAAAAATTCAACCTTTTTGATTCCACAGGGACAAACACCGTTGTTTCACGTATCTTCGGCCATGAAGCTGGAGGGTAATAGAAACACTAATCTTCTTTGCTTCGTTTTGGATATTTTTAAGGTTTTAGAGATTCAAGGTCGTTTTTTTTGTTGTTGTGTAGGATTGTTGAGAGTGTTGGAGAAGGAGTGACTGATCTTCAGCCA
guide=ACGTATCTTCGGCCATGAAGCTG

for r in oleg/trimmed/p3_33/*.fq.gz; do
  echo x
  # runCRISPRessoSingle $r $amplicon $guide
done

amplicon=GGTATATTATTACAAGCTAAATCAAGTTATCTACAATTATTTAGTTTTTCTCGTATTCGTTTAGGTACATATCAGTTGGGAGATTCTTCTATTCTCCTAATATTAAGAAGCCACAGACACTAGGTAATGGCTTACAGTCTTGGAGGGGGTTCTACCAAAGCATAAAACCTACTCAAATGGGATTGTCACTTAATATTGGTATGACAATCGTATTATTCTGTAAAAATTGAATTTCGCCAACTTGATATGATTGTATGTGTGTGTGACTGCAAATTTAATATCTTGTATTTATCGAATAGATATGTCAACAACAGCTTTCATTGAAC
guide=ATGGGATTGTCACTTAATAT

for r in oleg/trimmed/n723/*.fq.gz; do
  echo x;
  # runCRISPRessoSingle $r $amplicon $guide
done

amplicon=CGTTGCAGTCAATGGCATATTTTCGAGCTACCATAAGGGCGCCATTTCTTTCTTTCTCTGATTCAAATACTAACACAAAGGAATGTCCTTTCCTTGGTTGCCAAAACAATGACTTTGCTGCAGAATTTCCTCCTCCTCTAAATCCACATAGCTGAAATCAAAAGGATTTTTTGGGATATGATTGTCACTTAGTATTGGGAGTTAACAATGAGAGAAATTGAAAGGGACATAATTGAAAGAACGTATGAAGCTCATATAATAATTCAAACTGAACTGGCAACCGGCTACTGGAGCACGAATCATCTGCTT
guide=ATATGATTGTCACTTAGTAT

for r in oleg/trimmed/n724/*.fq.gz; do
  runCRISPRessoSingle $r $amplicon $guide
done

amplicon=TCCCCATTTATAGTATTACACTGGGTTTGTTGTTGTTGTTGTTGTTAACACGTTGATCATCAATGTTTAGGTACTCTGAAGAAAATTTGTGAGACGGATCTGGGGCTGATATCTCAATGTTGTCTTACAAAGCATGTATTAAAAATTAGCAAGCAATACCTTTCAAATGTATCGCTGAAAATCAATGTGAAGGTATGCAGTAAATCACCAAACAACTGCTAGCAATTCAATATGCTGAGATGATTATGTATAATCCATTTCTTATGCTTTAATCCTTATGTATTAGATGGGAGGAAGAAATACTGTTCTTTTAGATGCGTTGAGA
guide=ATCGCTGAAAATCAATGTGA

for r in oleg/trimmed/n726/*.fq.gz; do
  runCRISPRessoSingle $r $amplicon $guide
done

amplicon=CAGGGTGAGGGTGGGTGACATCTGCACCAAAAATAATGGTAGGCCGGTCGCTGACAAGAGGAATTCGCCTCGATATTGCATCAACAAGCACAGTGTTTCTCCCTCCCACCTTCACATTTATTTTCAACGCTACATTGGCTAGATACTGTTTGCTCATCTTAAATACATGTTTTGTCAAACAGCACTGTGAGACAACTCCTAGTTCAGTCTCACAAATACGCTTCAGATCACCTGGTCAAGAAATAAAAGAAATTAGCCCCCTCACCGTGCAAATTTCCACTAAAGAAGACGAGAGA
guide=TCACATTTATTTTCAACGCT

for r in oleg/trimmed/n727/*.fq.gz; do
  runCRISPRessoSingle $r $amplicon $guide
done

amplicon=GTGATCTGAAGAAGTAAATTTGTGAGACCGAACTAGGAGTTGTCTCACGGTGCTGTTTCACATAACATGTAAGAATATACAAGATGAGCAAACAGTATCGATCTAGCCAATGTAGCGCTGAAAATCAATGTGAAGGTGGGAGGAAGAAACATTGTGTTTTTTATTCTATATCGAGGTGAATTCCCCTTGCCAGCGACAGTCCTACCATTATTTTTTGATGACAAGGCAACAACATGCCAATCAGCAAAAAGAATTCTCTACGGCAAACACTACTGGGGTA
guide=AGCGCTGAAAATCAATGTGA

for r in oleg/trimmed/n728/*.fq.gz; do
  runCRISPRessoSingle $r $amplicon $guide
done
